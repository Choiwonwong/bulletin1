<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dino</title>
    <link rel="stylesheet" href="/styles/base.css">
    <link rel="stylesheet" href="/styles/navigation.css">
    <link rel="stylesheet" href="/styles/main.css">
    {% include 'favicorn.html' %}
</head>
<body>
{% include 'navigation.html' %}

<div class="main-container">
    <div class="post-list">
        <div class="post-list-header">
            <div class="header-content">
                <div class="header-left">
                    <span class="speech-bubble">💬</span>
                    <h1 class="page-title">자유롭게 발산하기</h1>
                </div>
                <a href="/new-post" class="edit-link">
                    <img src="/static/new_post_icon.png" alt="새 글 작성" class="new-post-icon">
                </a>
            </div>
        </div>
                {% if posts %}
                    {% for post in posts %}
                        <div class="post" onclick="location.href='/posts/{{ post.post_number }}'">
                            <div class="post-content">
                                <div class="post-header">
                                    <div class="post-number">{{ post.post_number }}</div>
                                    <div class="post-title">{{ post.title }}</div>
                                </div>
                                <div class="post-meta">
                                    <span>{{ post.author }}</span>
                                    <span>{{ post.created_date }}</span>
                                    <span>{{ post.view_count }}</span>
                                    <span>{{ post.like_count }}</span>
                                </div>
                            </div>
                        </div>
                        {% if not loop.last %}
                            <div class="post-divider"></div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <div class="empty-state">
                        <div class="empty-state-icon">📝</div>
                        <div class="empty-state-text">등록된 게시글이 없습니다.</div>
                    </div>
                {% endif %}
    </div>
</div>

<script>
    // 클릭 이벤트 처리
    document.querySelectorAll('.post').forEach(item => {
        item.addEventListener('click', function (e) {
            // 실제 링크 이동은 onclick 속성으로 처리
            // 여기서는 추가적인 클릭 효과나 분석 코드를 넣을 수 있음
        });
    });

    // 편집 버튼 클릭 처리
    // 이미지를 사용하므로, edit-button 클래스 대신 new-post-icon 클래스를 참조합니다.
    document.querySelector('.edit-link')?.addEventListener('click', function (e) {
        // 새 글 작성 페이지로 이동하는 것은 href 속성으로 처리됩니다.
        // 여기서는 추가적인 클릭 효과나 분석 코드를 넣을 수 있습니다.
        console.log('새 글 작성 버튼 클릭됨');
    });
</script>
</body>
</html>
